<!DOCTYPE html>
<html lang="zh-CN">
{% include head.html -%}
<body>
{% include header.html -%}
<div class="page page-post">
  <h1 class="title" id="{{ page.title }}">{{ page.title }}</h1>
  {% if page.date %}
  <div class="subtitle">
    <span>{{site.author}} 于 {{ page.date | date: "%Y-%m-%d" }} 发布</span>
    {%- if site.extCount %}
      <span>浏览量</span>
      <span id="busuanzi_value_page_pv"></span>
    {% endif %}
  </div>
  {% endif %}
  <div class="post">
    {{ content }}
  </div>

  <!-- 添加分享按钮 -->
  <div class="share-buttons">
    <button class="share-button" onclick="shareOnSocial('twitter')">分享到 Twitter</button>
    <button class="share-button" onclick="shareOnSocial('facebook')">分享到 Facebook</button>
    <button class="share-button" onclick="shareOnSocial('weibo')">分享到微博</button>
  </div>

  {% if site.extAdsense -%}
  <div class="adsense" style="overflow: hidden;">
    {% include ext-adsense.html -%}
  </div>
  {% endif %}

  <!-- 添加 Gitalk 评论 -->
  <div id="gitalk-container"></div>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
  <script>
    var gitalk = new Gitalk({
      clientID: 'Ov23liAg6ZGUK44WreDc', // GitHub OAuth App 的 Client ID
      clientSecret: '48a53ddcc5b26907abe4c3131c59a6fdb566a0ed', // GitHub OAuth App 的 Client Secret
      repo: 'discuss-store', // 用于存储评论的 GitHub 仓库
      owner: 'shangxiaaabb', // GitHub 用户名
      admin: ['shangxiaaabb'], // 管理员用户名
      // id: '{{ page.id }}', // 当前页面的唯一标识符
      id: md5('{{ page.title }}'), // 对标题进行哈希处理
      distractionFreeMode: false // 专注模式
    });
    gitalk.render('gitalk-container');
  </script>

  {% if site.extAdsense -%}
  <div class="adsense" style="overflow: hidden;">
    {% include ext-adsense.html -%}
  </div>
  {% endif %}
</div>
{% include footer.html -%}
{% include script.html -%}
</body>
</html>