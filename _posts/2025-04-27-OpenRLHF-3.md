---
layout: mypost
title: å¼ºåŒ–å­¦ä¹ æ¡†æ¶ï¼šOpenRLHFæºç è§£è¯»ï¼Œæ¨¡å‹è®­ç»ƒ-2
categories: OpenRLHFæ¡†æ¶è§£è¯»
address: é•¿æ²™
extMath: true
show_footer_image: true
tags:
- å¼ºåŒ–å­¦ä¹ 
- OpenRLHF
description: æœ¬æ–‡ä¸»è¦ä»‹ç»å¼ºåŒ–å­¦ä¹ æ¡†æ¶OpenRLHFçš„æºç è§£è¯»ä¸æ¨¡å‹è®­ç»ƒï¼Œæåˆ°æ¨¡å‹è®­ç»ƒè„šæœ¬train.shæ¶‰åŠopenrlhf.cli.train_ppo_rayå‚æ•°ï¼Œè¿˜å›é¡¾äº†train_ppo_ray.pyä»£ç ï¼Œæ­¤å‰å·²ä»‹ç»OpenRLHFä¸­Rayä¸vLLMç»“åˆï¼Œç°èšç„¦è¯¥ä»£ç ç›¸å…³æ­¥éª¤ã€‚
---

å‰æ–‡å·²ç»ä»‹ç»äº†ï¼š
* [**å¼ºåŒ–å­¦ä¹ æ¡†æ¶ï¼šOpenRLHFæºç è§£è¯»ï¼Œæ¨¡å‹å¤„ç†æ¨¡å—è§£è¯»**](https://www.big-yellow-j.top/posts/2025/04/22/OpenRLHF-1.html)

æœ¬æ–‡ä¸»è¦ä»‹ç» **å¼ºåŒ–å­¦ä¹ æ¡†æ¶ï¼šOpenRLHFæºç è§£è¯»ï¼Œæ¨¡å‹è®­ç»ƒ**ã€‚

## train.sh

æ¨¡å‹è®­ç»ƒè„šæœ¬ï¼š[ğŸ”—](https://github.com/OpenRLHF/OpenRLHF/blob/main/examples/scripts/train_ppo_llama_ray.sh) è„šæœ¬ä¸­ä¸»è¦æ¶‰åŠåˆ°å‚æ•°ï¼š1ã€æ¨¡å‹è„šæœ¬ï¼š`openrlhf.cli.train_ppo_ray`ï¼›2ã€

### `train_ppo_ray.py`
> From: https://github.com/OpenRLHF/OpenRLHF/blob/main/openrlhf/cli/train_ppo_ray.py

å‰é¢å·²ç»ä»‹ç»äº†åœ¨OpenRLHFä¸­æ˜¯å¦‚ä½•å°†Rayå’ŒvLLMè¿›è¡Œç»“åˆäº†ï¼Œç›´æ¥å›é¡¾ `train_ppo_ray.py`ä»£ç ï¼š

```python
def train(...):
    ...
    # 1ã€åˆ›å»ºvLLM
    vllm_engines = None
    if ...:
        vllm_engines = create_vllm_engines(...)
```
ç¬¬ä¸€æ­¥ã€åˆ›å»ºvLLMï¼Œä¸Šé¢å·²ç»ä»‹ç»ä¸åšèµ˜è¿°
ç¬¬äºŒæ­¥ã€


## ä»£ç æµ‹è¯•


## æ€»ç»“